% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/mobility.R
\name{analyze_mobility_buffer}
\alias{analyze_mobility_buffer}
\title{Enhanced spatial mobility analysis with buffer zones}
\usage{
analyze_mobility_buffer(
  center_points,
  buffer_km,
  dates,
  level = "dist",
  max_rows = 10000,
  create_maps = TRUE
)
}
\arguments{
\item{center_points}{Data frame with center points containing lon, lat, and optional id columns}

\item{buffer_km}{Numeric. Buffer distance in kilometers around center points}

\item{dates}{Character. Date(s) for mobility data (e.g., "2023-01-01")}

\item{level}{Character. Administrative level ("dist" or "muni")}

\item{max_rows}{Numeric. Maximum rows for mobility data (default: 10000)}

\item{create_maps}{Logical. Whether to create spatial maps (default: TRUE)}
}
\value{
List containing:
\itemize{
\item zones - sf object with zones in buffer area
\item mobility - mobility data filtered to buffer zones
\item spatial_stats - spatial statistics for the area
\item maps - list of ggplot maps (if create_maps = TRUE)
}
}
\description{
Performs comprehensive spatial mobility analysis using buffer-based zone selection
and advanced spatial statistics. This function implements best practices for
coordinate transformation and spatial analysis workflows.
}
\examples{
\dontrun{
# Analyze mobility around Madrid center
madrid_center <- data.frame(lon = -3.7038, lat = 40.4168, id = "Madrid")
madrid_analysis <- analyze_mobility_buffer(
  center_points = madrid_center,
  buffer_km = 25,
  dates = "2020-02-14"
)

# View results
print(madrid_analysis$maps$zones)
print(madrid_analysis$maps$mobility)
print(madrid_analysis$spatial_stats)
}
}
