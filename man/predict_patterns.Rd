% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/ml.R
\name{predict_patterns}
\alias{predict_patterns}
\title{Simple Machine Learning for Mobility Prediction}
\usage{
predict_patterns(
  mobility_data,
  prediction_dates,
  model_type = c("linear_regression", "random_forest"),
  max_rows = 3000,
  spatial_zones = NULL,
  create_map = TRUE
)
}
\arguments{
\item{mobility_data}{Data frame with historical mobility data for training. Must contain:
\itemize{
\item date - Date column (Date or character format)
\item n_trips - Number of trips (numeric)
\item Additional columns are automatically used for feature engineering
}}

\item{prediction_dates}{Character vector of dates to predict mobility for.
Examples: "2023-01-08" or c("2023-01-08", "2023-01-09")}

\item{model_type}{Character. Type of machine learning model:
\itemize{
\item "linear_regression" - Linear regression (default, fastest, most interpretable)
\item "random_forest" - Random Forest (more complex, potentially more accurate)
}}

\item{max_rows}{Numeric. Maximum number of rows to use for training
(default: 3000 for memory-efficient processing). Larger datasets are randomly sampled.}

\item{spatial_zones}{sf object with spatial zones for creating maps (optional).
Use \code{get_spatial_zones()} to obtain. If provided, creates prediction maps.}

\item{create_map}{Logical. Whether to create spatial map if spatial_zones provided
(default: TRUE). Set to FALSE for faster processing without visualization.}
}
\value{
List containing:
\itemize{
\item predictions - Data frame with hourly predictions for each date
\item spatial_map - ggplot2 choropleth map (if spatial_zones provided)
\item model_info - Information about the trained model
}
If no spatial_zones provided, returns only the predictions data frame.
}
\description{
This file contains simplified machine learning functions for analytical purposes
in spatial data science applications. Designed for users.
Predict mobility patterns using simple machine learning
}
\details{
A user-friendly function for predicting mobility patterns using basic ML models.
Designed for analytical purposes with clear steps, manageable complexity, and
automatic spatial visualization for users.

This function automatically:
\itemize{
\item Creates temporal features (hour, weekday, weekend indicator)
\item Handles missing values and memory management
\item Trains simple ML models suitable for users
\item Generates hourly predictions for specified dates
\item Creates spatial maps when geometries are available
\item Provides analytical step-by-step messaging
}

The models use basic temporal features that users can understand:
hour of day, day of week, and weekend indicator.
}
\examples{
\dontrun{
# Basic mobility prediction for users
mobility <- get_mobility_matrix(dates = c("2023-01-01", "2023-01-05"))
predictions <- predict_mobility_patterns(
  mobility_data = mobility,
  prediction_dates = c("2023-01-08", "2023-01-09"),
  model_type = "linear_regression"
)
head(predictions)

# With spatial mapping for analysis
zones <- get_spatial_zones("dist")
predictions <- predict_mobility_patterns(
  mobility_data = mobility,
  prediction_dates = "2023-01-08",
  model_type = "random_forest",
  spatial_zones = zones,
  create_map = TRUE
)

# View predictions and map
head(predictions$predictions)
print(predictions$spatial_map)
print(predictions$model_info)
}
}
