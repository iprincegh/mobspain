% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/spatial.R
\name{get_zones_buffer}
\alias{get_zones_buffer}
\title{Get zones within buffer of specified locations}
\usage{
get_zones_buffer(zones, center_points, buffer_km = 10, crs_proj = 25830)
}
\arguments{
\item{zones}{sf object with zone geometries (use \code{get_zones()} to obtain)}

\item{center_points}{Data frame with center points containing:
\itemize{
\item lon - Longitude coordinate
\item lat - Latitude coordinate
\item id - Optional identifier for the center point
}}

\item{buffer_km}{Numeric. Buffer distance in kilometers (default: 10)}

\item{crs_proj}{Character or numeric. Projected CRS for accurate buffer calculations.
Default uses UTM zone 30N (EPSG:25830) suitable for Spain.}
}
\value{
sf object with zones within the buffer areas
}
\description{
Selects zones that intersect with a buffer around specified points or regions.
This is useful for analyzing mobility patterns around specific locations like
airports, city centers, or functional urban areas.
}
\details{
This function uses best practices for spatial buffer analysis:
\itemize{
\item Transforms to projected CRS for accurate distance calculations
\item Creates buffer zones around center points
\item Finds intersecting zones using spatial predicates
\item Returns results in WGS84 for mapping compatibility
}
}
\examples{
\dontrun{
# Get zones within 20km of Madrid center
madrid_center <- data.frame(lon = -3.7038, lat = 40.4168, id = "Madrid")
zones <- get_zones(level = "dist")
madrid_area <- get_zones_buffer(zones, madrid_center, buffer_km = 20)

# Multiple center points (e.g., major cities)
centers <- data.frame(
  lon = c(-3.7038, 2.1734, -0.3763),
  lat = c(40.4168, 41.3851, 39.4699),
  id = c("Madrid", "Barcelona", "Valencia")
)
metro_zones <- get_zones_buffer(zones, centers, buffer_km = 25)
}
}
